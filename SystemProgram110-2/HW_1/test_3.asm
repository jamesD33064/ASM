. Main function
M1	JSUB	READ

. Read function
READ	LDX	ZERO
RLOOP	TD	INDEV
	JEQ	RLOOP
	RD	INDEV
	JSUB	CHECK
	JSUB	WRITE
	TIX	K100
	COMP	DOLLAR
	JLT	RLOOP
	JGT	RLOOP
	JSUB	M2

. Check lower case
CHECK	COMP	K96
	JLT	RETURN
CHANGE	SUB	K32
RETURN	RSUB

. Write function
WRITE	TD	OUTDEV
	JEQ	WRITE
	WD	OUTDEV
	RSUB

. End function
M2	LDA	K100

. Define variable
INDEV	BYTE	X'F1'
OUTDEV	BYTE	X'F2'
RECORD	RESB	100
DOLLAR	WORD	36
ZERO	WORD	0
K100	WORD	100
K96	WORD	96
K32	WORD	32
STACK	RESW	2